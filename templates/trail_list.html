{% extends "layout.html" %}

{% block head %}
    <title>Trail List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/trail_style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='/css/popup.css') }}"> 
{% endblock %}

{% block body %}

<div>
    <h3>Enter a new location to update list.</h3>
    <form method="post">
        <label for="input">Zip code or address: </label>
        <input type="text" id="input" name="input"><br>
        <label for="radius">Within how many miles: </label>
        <input type="number" id="radius" name="radius"><br>
        <input type="submit" value="Submit">
    </form>
</div>


<button class="open-button" onclick="openForm()">Filter Trails Just For You!</button>

<div class="form-popup" id="myForm">
    <form class="form-container">
        <h1>Intro</h1>

        <label for="text"><b>How Do You Want To Feel On Your Hike?</b></label>
        <input type="text" required>

        <button type="submit" class="btn">Submit</button>
        <button type="submit" class="btn cancel" onclick="closeForm()">Close</button>
  </form>
</div>
        
    </form>
</div>

    <h1>List of Trails {{ radius }} Miles from Location (Sorted Near to Far)</h1>

    <table class="table">

        <thead class="thead-dark">
            <tr>
                <th>Name</th><th>Summary</th><th>Length (mi)</th><th>Additional Details</th><th>View Trailhead</th><th>Find Equipment Recommendations</th>
            </tr>
        </thead>
        
    {% for i in tableDict["trails"] %}
    <tbody>
        <tr>
            <td> {{ i["name"] }} </td>
            <td> {{ i["summary"] }} </td>
            <td> {{ i["length"] }} </td>
            <td><input type="button" value="Details Page"></td>
            <td><input type="button" value="Navigate to Trailhead"></td>
            <td><input type="button" value="Gear Recommendation" name="trailID" onclick="window.location='/recs/{{i.id}}';"></td>
            <!-- button to redirect to /recs/trailID and it works!! -->
        </tr>
    </tbody>
    {% endfor %}    

    </table>

    <script src="{{url_for('static', filename='/scripts/trails_script.js')}}"></script>

    <!-- will move to trails_script.js -->
    <script>
    function openForm() {
        document.getElementById("myForm").style.display = "block";
    }

    function closeForm() {
        document.getElementById("myForm").style.display = "none";
    }
    </script>

{% endblock %}
</div>
    